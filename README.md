# Проектная работа "Веб-ларек"
https://github.com/RoKa781/web-larek-frontend
Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm i
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура приложения
### Базовый класс Api
**Класс Api отвечает за запросы к серверу.**

_Конструктор:_
```
    baseUrl: string;
    options: RequestInit;
```
_Методы:_
```
    handleResponse - Обрабатывает ответ от сервера
    get - Выполняет GET-запрос
    post - Выполняет POST-запрос
```
### Базовый класс Сomponents
**Абстрактный класс компонента предназначен для создания компонентов пользовательского интерфейса**

_Конструктор:_
```
Принимает контейнер, в котором будет находиться компонент
```
_Методы:_
```
toggleClass - Переключает указанный класс у элемента.
setText - Устанавливает текстовое содержимое элемента.
setImage - Устанавливает изображение для элемента.
setDisabled - Устанавливает или снимает блокировку элемента.
setHidden - Скрывает элемент.
setVisible - Отображает элемент.
render - Генерирует и вставляет компонент в контейнер.
```
### Базовый класс EventEmitter
**Брокер событий**

_Конструктор:_
```
Создает экземпляр _events с пустой картой событий.
```
_Методы:_
```
on - Устанавливает обработчик на событие.
off - Снимает обработчик с события.
emit - Инициирует событие с данными.
onAll - Слушает все события.
offAll - Сбрасывает все обработчики.
trigger - Создает триггер, генерирующий событие при вызове.
```
### Базовый класс Model
**Абстрактный класс, представляющий базовую модель**

_Конструктор:_
```
Принимает частичные данные и события
Partial<T>, IEvents
```
_Методы:_
```
emitChanges - Оповещает о том, что модель изменилась.
```
## Классы компонентов

### Класс Page
**Наследует класс Component и представляет страницу веб-приложения.**

_Конструктор:_
```
Принимает контейнерный элемент страницы и объект событий.
HTMLElement, IEvents
```
_Методы:_
```
handleBasketClick - Обрабатывает события клика на элемент корзины.
counter - Установка значения счетчика товаров в корзине.
gallery - Установка элемента галереи товаров.
locked - Установка состояния блокировки страницы.
```
### Класс Card
**Наследует класс Component и представляет карточку товара**

_Конструктор:_
```
Принимает имя блока, контейнерный элемент, действия 

```
_Методы:_
```
disableButton - Выключает кнопку, если цена равна нулю.
id - Устанавливает и возвращает идентификатор карточки.
buttonText - Устанавливает текст кнопки.
title - Устанавливает и возвращает заголовок карточки.
price - Устанавливает и возвращает цену карточки.
image - Устанавливает и возвращает изображение карточки.
category - Устанавливает и возвращает категорию карточки.
index - Устанавливает и возвращает индекс карточки.
```
### Класс Modal
**Наследует класс Component и обеспечивает работу модального окна**

_Конструктор:_
```
Контейнер модального окна и объект для управления событиями
HTMLElement, IEvents
```
_Методы:_
```
set content - Заменяет содержимое модального окна новым значением.
open - Открывает модальное окно.
close - Закрывает модальное окно.
render - Возвращает контейнер модального окна.

```
### Класс Form
**Наследует класс Component и отвечает за формы на странице**

_Конструктор:_
```
Контейнер формы и объект для управлением событиями
HTMLElement, IEvents
```
_Методы:_
```
onInputChange - Обрабатывает изменения ввода в форме.
valid - Устанавливает состояние валидности формы.
render - Обновляет отображение формы.
```
### Класс Basket
**Наследует класс Component и отвечает за корзину**

_Конструктор:_
```
Элемент и события
HTMLElement, IEvents
```
_Методы:_
```
items - Устанавливает содержимое корзины;
total -  Отображает общую стоимость товаров в корзине.
toggleButton - Состояние кнопки оформления заказа.
```
### Класс Success
**Наследует класс Component и отображает окно успешной оплаты**

_Конструктор:_
```
Принимает контейнер-модальное окно и действия для закрытия окна.
HTMLElement, IEvents
```
_Методы:_
```
title - Заголовок окна об успешной оплате.
close - Кнопка закрытия окна.

```

### Класс OrderForm
**Наследует функционал от класса Form и управляет формой заказа**

_Конструктор:_
```
Принимает контейнер-модальное окно и действия для закрытия окна.
HTMLElement, IEvents
```
_Методы:_
```
set phone - Устанавливает номер телефона для заказа.
set email - Устанавливает адрес электронной почты для заказа.
set address - Устанавливает адрес доставки.
set payment - Устанавливает способ оплаты.

```
### Класс AppState
**Управляет содержимым всего приложения**

_Методы:_
```
addItemToBasket - Добавляет товар в корзину, принимает элемент товара.
removeItemFromBasket - Удаляет товар из корзины, принимает элемент товара.
clearBasket - Очищает корзину.
getBasket - Возвращает товары, находящиеся в корзине.
getTotal - Получает итоговую сумму заказа.
setCatalog - Устанавливает каталог товаров, принимает массив товаров.
setPreview - Устанавливает превью товара, принимает элемент товара.
setOrderField - Устанавливает окно с оформленным заказом.
validateOrder - Проверяет корректность данных заказа.
```
